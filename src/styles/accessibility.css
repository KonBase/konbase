/* WCAG 2.1 Compliant Accessibility Styles */

/* Text Size Variations - WCAG 2.1 AA: Text must be resizable up to 200% */
.text-size-default {
  font-size: 1rem; /* 16px base */
  line-height: 1.5;
}

.text-size-large {
  font-size: 1.125rem; /* 18px - 112.5% increase */
  line-height: 1.6;
}

.text-size-larger {
  font-size: 1.25rem; /* 20px - 125% increase */
  line-height: 1.7;
}

/* Apply text size to all text elements */
.text-size-large *,
.text-size-large {
  font-size: inherit !important;
  line-height: inherit !important;
}

.text-size-larger *,
.text-size-larger {
  font-size: inherit !important;
  line-height: inherit !important;
}

/* High Contrast Mode - WCAG 2.1 AA: Contrast ratio of at least 4.5:1 for normal text */
.contrast-default {
  /* Use default theme colors */
}

.contrast-increased {
  --background: 0 0% 100%; /* Pure white */
  --foreground: 0 0% 0%; /* Pure black */
  --card: 0 0% 100%;
  --card-foreground: 0 0% 0%;
  --popover: 0 0% 100%;
  --popover-foreground: 0 0% 0%;
  --primary: 220 100% 20%; /* Darker blue for better contrast */
  --primary-foreground: 0 0% 100%;
  --secondary: 0 0% 90%;
  --secondary-foreground: 0 0% 0%;
  --muted: 0 0% 85%;
  --muted-foreground: 0 0% 15%;
  --accent: 45 100% 35%; /* Darker yellow for better contrast */
  --accent-foreground: 0 0% 100%;
  --destructive: 0 100% 40%; /* Darker red */
  --destructive-foreground: 0 0% 100%;
  --border: 0 0% 60%;
  --input: 0 0% 95%;
  --ring: 220 100% 20%;
}

.contrast-high {
  --background: 0 0% 100%; /* Pure white */
  --foreground: 0 0% 0%; /* Pure black */
  --card: 0 0% 100%;
  --card-foreground: 0 0% 0%;
  --popover: 0 0% 100%;
  --popover-foreground: 0 0% 0%;
  --primary: 0 0% 0%; /* Pure black */
  --primary-foreground: 0 0% 100%;
  --secondary: 0 0% 95%;
  --secondary-foreground: 0 0% 0%;
  --muted: 0 0% 90%;
  --muted-foreground: 0 0% 10%;
  --accent: 0 0% 20%; /* Very dark gray */
  --accent-foreground: 0 0% 100%;
  --destructive: 0 0% 0%; /* Pure black */
  --destructive-foreground: 0 0% 100%;
  --border: 0 0% 50%;
  --input: 0 0% 98%;
  --ring: 0 0% 0%;
}

/* Dark mode high contrast */
.dark.contrast-increased {
  --background: 0 0% 0%; /* Pure black */
  --foreground: 0 0% 100%; /* Pure white */
  --card: 0 0% 5%;
  --card-foreground: 0 0% 100%;
  --popover: 0 0% 5%;
  --popover-foreground: 0 0% 100%;
  --primary: 220 100% 80%; /* Lighter blue for dark mode */
  --primary-foreground: 0 0% 0%;
  --secondary: 0 0% 15%;
  --secondary-foreground: 0 0% 100%;
  --muted: 0 0% 20%;
  --muted-foreground: 0 0% 90%;
  --accent: 45 100% 70%; /* Lighter yellow */
  --accent-foreground: 0 0% 0%;
  --destructive: 0 100% 70%; /* Lighter red */
  --destructive-foreground: 0 0% 0%;
  --border: 0 0% 40%;
  --input: 0 0% 10%;
  --ring: 220 100% 80%;
}

.dark.contrast-high {
  --background: 0 0% 0%; /* Pure black */
  --foreground: 0 0% 100%; /* Pure white */
  --card: 0 0% 0%;
  --card-foreground: 0 0% 100%;
  --popover: 0 0% 0%;
  --popover-foreground: 0 0% 100%;
  --primary: 0 0% 100%; /* Pure white */
  --primary-foreground: 0 0% 0%;
  --secondary: 0 0% 10%;
  --secondary-foreground: 0 0% 100%;
  --muted: 0 0% 15%;
  --muted-foreground: 0 0% 95%;
  --accent: 0 0% 80%; /* Light gray */
  --accent-foreground: 0 0% 0%;
  --destructive: 0 0% 100%; /* Pure white */
  --destructive-foreground: 0 0% 0%;
  --border: 0 0% 60%;
  --input: 0 0% 5%;
  --ring: 0 0% 100%;
}

/* Reduced Motion - WCAG 2.1 AAA: Respect user's motion preferences */
.reduced-motion,
.reduced-motion *,
.reduced-motion *::before,
.reduced-motion *::after {
  animation-duration: 0.01ms !important;
  animation-iteration-count: 1 !important;
  transition-duration: 0.01ms !important;
  scroll-behavior: auto !important;
  transform: none !important;
}

/* Animation Preferences */
.animations-none,
.animations-none *,
.animations-none *::before,
.animations-none *::after {
  animation: none !important;
  transition: none !important;
  transform: none !important;
}

.animations-reduced {
  /* Reduce animation duration and complexity */
}

.animations-reduced *,
.animations-reduced *::before,
.animations-reduced *::after {
  animation-duration: 0.15s !important;
  transition-duration: 0.15s !important;
}

.animations-full {
  /* Default animations - no changes needed */
}

/* Interface Density Variations - WCAG 2.1 AA: Touch targets must be at least 44x44px */
.density-compact {
  --spacing-xs: 0.125rem; /* 2px */
  --spacing-sm: 0.25rem;  /* 4px */
  --spacing-md: 0.5rem;   /* 8px */
  --spacing-lg: 0.75rem;  /* 12px */
  --spacing-xl: 1rem;     /* 16px */
  --touch-target: 2.5rem; /* 40px - minimum for compact */
  --card-padding: 1rem;   /* 16px */
  --section-spacing: 1rem; /* 16px */
}

.density-comfortable {
  --spacing-xs: 0.25rem;  /* 4px */
  --spacing-sm: 0.5rem;   /* 8px */
  --spacing-md: 0.75rem;  /* 12px */
  --spacing-lg: 1rem;     /* 16px */
  --spacing-xl: 1.5rem;   /* 24px */
  --touch-target: 2.75rem; /* 44px - WCAG minimum */
  --card-padding: 1.5rem; /* 24px */
  --section-spacing: 1.5rem; /* 24px */
}

.density-spacious {
  --spacing-xs: 0.5rem;   /* 8px */
  --spacing-sm: 0.75rem;  /* 12px */
  --spacing-md: 1rem;     /* 16px */
  --spacing-lg: 1.5rem;   /* 24px */
  --spacing-xl: 2rem;     /* 32px */
  --touch-target: 3rem;   /* 48px - generous touch target */
  --card-padding: 2rem;   /* 32px */
  --section-spacing: 2rem; /* 32px */
}

/* Apply density spacing to interactive elements */
.density-compact button,
.density-compact [role="button"],
.density-compact input,
.density-compact select,
.density-compact textarea,
.density-compact a {
  min-height: var(--touch-target);
  min-width: var(--touch-target);
  padding: var(--spacing-sm) var(--spacing-md);
  margin: var(--spacing-xs);
}

.density-comfortable button,
.density-comfortable [role="button"],
.density-comfortable input,
.density-comfortable select,
.density-comfortable textarea,
.density-comfortable a {
  min-height: var(--touch-target);
  min-width: var(--touch-target);
  padding: var(--spacing-md) var(--spacing-lg);
  margin: var(--spacing-sm);
}

.density-spacious button,
.density-spacious [role="button"],
.density-spacious input,
.density-spacious select,
.density-spacious textarea,
.density-spacious a {
  min-height: var(--touch-target);
  min-width: var(--touch-target);
  padding: var(--spacing-lg) var(--spacing-xl);
  margin: var(--spacing-md);
}

/* Apply density spacing to cards and containers */
.density-compact .card-content,
.density-compact [data-card-content] {
  padding: var(--card-padding);
}

.density-comfortable .card-content,
.density-comfortable [data-card-content] {
  padding: var(--card-padding);
}

.density-spacious .card-content,
.density-spacious [data-card-content] {
  padding: var(--card-padding);
}

/* Apply density spacing to sections */
.density-compact .space-y-6 > * + *,
.density-compact .space-y-4 > * + * {
  margin-top: var(--section-spacing);
}

.density-comfortable .space-y-6 > * + *,
.density-comfortable .space-y-4 > * + * {
  margin-top: var(--section-spacing);
}

.density-spacious .space-y-6 > * + *,
.density-spacious .space-y-4 > * + * {
  margin-top: var(--section-spacing);
}

/* Screen Reader Optimizations */
.screen-reader-optimized {
  /* Enhanced focus indicators for screen readers */
}

.screen-reader-optimized *:focus {
  outline: 3px solid hsl(var(--ring)) !important;
  outline-offset: 2px !important;
  box-shadow: 0 0 0 3px hsl(var(--ring) / 0.3) !important;
}

.screen-reader-optimized .sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

.screen-reader-optimized .sr-only:focus {
  position: static;
  width: auto;
  height: auto;
  padding: 0.5rem;
  margin: 0;
  overflow: visible;
  clip: auto;
  white-space: normal;
  background: hsl(var(--background));
  color: hsl(var(--foreground));
  border: 2px solid hsl(var(--ring));
  border-radius: 0.25rem;
  z-index: 9999;
}

/* Skip links for keyboard navigation */
.screen-reader-optimized .skip-link {
  position: absolute;
  top: -40px;
  left: 6px;
  background: hsl(var(--primary));
  color: hsl(var(--primary-foreground));
  padding: 8px;
  text-decoration: none;
  border-radius: 0 0 4px 4px;
  z-index: 10000;
  transition: top 0.3s;
}

.screen-reader-optimized .skip-link:focus {
  top: 0;
}

/* Enhanced keyboard navigation */
.screen-reader-optimized [tabindex="-1"]:focus {
  outline: none;
}

.screen-reader-optimized [role="button"]:focus,
.screen-reader-optimized button:focus,
.screen-reader-optimized input:focus,
.screen-reader-optimized select:focus,
.screen-reader-optimized textarea:focus,
.screen-reader-optimized a:focus {
  outline: 3px solid hsl(var(--ring)) !important;
  outline-offset: 2px !important;
}

/* Respect system preferences */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

@media (prefers-contrast: high) {
  :root {
    --background: 0 0% 100%;
    --foreground: 0 0% 0%;
    --primary: 0 0% 0%;
    --primary-foreground: 0 0% 100%;
  }
}

@media (prefers-color-scheme: dark) and (prefers-contrast: high) {
  :root {
    --background: 0 0% 0%;
    --foreground: 0 0% 100%;
    --primary: 0 0% 100%;
    --primary-foreground: 0 0% 0%;
  }
}

/* Focus management for better accessibility */
.accessibility-enhanced {
  /* Base class for accessibility enhancements */
}

.accessibility-enhanced *:focus-visible {
  outline: 3px solid hsl(var(--ring));
  outline-offset: 2px;
  border-radius: 2px;
}

/* Ensure sufficient color contrast for all interactive elements */
.accessibility-enhanced button,
.accessibility-enhanced [role="button"],
.accessibility-enhanced input,
.accessibility-enhanced select,
.accessibility-enhanced textarea {
  border: 1px solid hsl(var(--border));
}

/* High contrast borders for form elements */
.contrast-high input,
.contrast-high select,
.contrast-high textarea,
.contrast-increased input,
.contrast-increased select,
.contrast-increased textarea {
  border: 2px solid hsl(var(--foreground)) !important;
}

/* Ensure text remains readable at all zoom levels */
@media screen and (min-width: 1px) {
  .text-size-large,
  .text-size-larger {
    max-width: none;
    overflow-wrap: break-word;
    word-wrap: break-word;
    hyphens: auto;
  }
}

/* Print styles for accessibility */
@media print {
  .screen-reader-optimized .sr-only {
    position: static !important;
    width: auto !important;
    height: auto !important;
    overflow: visible !important;
    clip: auto !important;
  }
}